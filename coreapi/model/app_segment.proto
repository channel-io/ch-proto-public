syntax = "proto3";

package coreapi.model;

import "buf/validate/validate.proto";

option go_package = "github.com/channel-io/ch-proto-public/coreapi/go/model";
option java_multiple_files = true;
option java_package = "io.channel.api.proto.pub.coreapi.model";

// App segment for user targeting within a specific app extension.
message AppSegment {
  // App identifier.
  //
  // +kubebuilder:validation:Required
  // +kubebuilder:validation:MinLength=1
  string app_id = 1 [
    (buf.validate.field).cel = {
      id: "string.minLen"
      message: "value must be at least 1 characters"
      expression: "size(this) >= 1"
    },
    (buf.validate.field).required = true
  ];

  // Extension identifier.
  //
  // +kubebuilder:validation:Required
  // +kubebuilder:validation:MinLength=1
  string extension_id = 2 [
    (buf.validate.field).cel = {
      id: "string.minLen"
      message: "value must be at least 1 characters"
      expression: "size(this) >= 1"
    },
    (buf.validate.field).required = true
  ];

  // Segment identifier.
  //
  // +kubebuilder:validation:Required
  // +kubebuilder:validation:MinLength=1
  string segment_id = 3 [
    (buf.validate.field).cel = {
      id: "string.minLen"
      message: "value must be at least 1 characters"
      expression: "size(this) >= 1"
    },
    (buf.validate.field).required = true
  ];
}
